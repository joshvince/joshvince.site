namespace :fpl do
  desc "Seed the FPL database"
  task seed: :environment do
    bets = "{\"Forward\":[{\"xa\":0.09,\"xg\":1.16,\"name\":\"Haaland\",\"team\":\"Man City\",\"saves\":0.0,\"weight\":100,\"player_type\":\"Forward\",\"clean_sheets\":0.61},{\"xa\":0.04,\"xg\":0.24,\"name\":\"João Pedro\",\"team\":\"Chelsea\",\"saves\":0.0,\"weight\":33,\"player_type\":\"Forward\",\"clean_sheets\":0.31},{\"xa\":0.07,\"xg\":0.47,\"name\":\"Gyökeres\",\"team\":\"Arsenal\",\"saves\":0.0,\"weight\":10,\"player_type\":\"Forward\",\"clean_sheets\":0.47},{\"xa\":0.04,\"xg\":0.57,\"name\":\"Woltemade\",\"team\":\"Newcastle\",\"saves\":0.0,\"weight\":7,\"player_type\":\"Forward\",\"clean_sheets\":1.19},{\"xa\":0.07,\"xg\":0.63,\"name\":\"Mateta\",\"team\":\"Crystal Palace\",\"saves\":0.0,\"weight\":5,\"player_type\":\"Forward\",\"clean_sheets\":0.6}],\"Defender\":[{\"xa\":0.01,\"xg\":0.07,\"name\":\"Gabriel\",\"team\":\"Arsenal\",\"saves\":0.0,\"weight\":37,\"player_type\":\"Defender\",\"clean_sheets\":0.57},{\"xa\":0.08,\"xg\":0.08,\"name\":\"Guéhi\",\"team\":\"Crystal Palace\",\"saves\":0.0,\"weight\":35,\"player_type\":\"Defender\",\"clean_sheets\":0.43},{\"xa\":0.02,\"xg\":0.1,\"name\":\"Van de Ven\",\"team\":\"Spurs\",\"saves\":0.0,\"weight\":18,\"player_type\":\"Defender\",\"clean_sheets\":0.44},{\"xa\":0.07,\"xg\":0.33,\"name\":\"J.Timber\",\"team\":\"Arsenal\",\"saves\":0.0,\"weight\":14,\"player_type\":\"Defender\",\"clean_sheets\":0.52},{\"xa\":0.02,\"xg\":0.01,\"name\":\"Burn\",\"team\":\"Newcastle\",\"saves\":0.0,\"weight\":14,\"player_type\":\"Defender\",\"clean_sheets\":0.71}],\"Goalkeeper\":[{\"xa\":0.01,\"xg\":0.0,\"name\":\"Raya\",\"team\":\"Arsenal\",\"saves\":2.14,\"weight\":30,\"player_type\":\"Goalkeeper\",\"clean_sheets\":0.57},{\"xa\":0.0,\"xg\":0.0,\"name\":\"Pope\",\"team\":\"Newcastle\",\"saves\":2.71,\"weight\":7,\"player_type\":\"Goalkeeper\",\"clean_sheets\":0.71},{\"xa\":0.01,\"xg\":0.0,\"name\":\"Pickford\",\"team\":\"Everton\",\"saves\":2.43,\"weight\":6,\"player_type\":\"Goalkeeper\",\"clean_sheets\":0.29},{\"xa\":0.0,\"xg\":0.0,\"name\":\"Vicario\",\"team\":\"Spurs\",\"saves\":3.43,\"weight\":4,\"player_type\":\"Goalkeeper\",\"clean_sheets\":0.43},{\"xa\":0.0,\"xg\":0.0,\"name\":\"Dúbravka\",\"team\":\"Burnley\",\"saves\":4.14,\"weight\":4,\"player_type\":\"Goalkeeper\",\"clean_sheets\":0.14}],\"Midfielder\":[{\"xa\":0.05,\"xg\":0.52,\"name\":\"Semenyo\",\"team\":\"Bournemouth\",\"saves\":0.0,\"weight\":47,\"player_type\":\"Midfielder\",\"clean_sheets\":0.43},{\"xa\":0.17,\"xg\":0.19,\"name\":\"Kudus\",\"team\":\"Spurs\",\"saves\":0.0,\"weight\":29,\"player_type\":\"Midfielder\",\"clean_sheets\":0.44},{\"xa\":0.03,\"xg\":0.08,\"name\":\"Caicedo\",\"team\":\"Chelsea\",\"saves\":0.0,\"weight\":19,\"player_type\":\"Midfielder\",\"clean_sheets\":0.29},{\"xa\":0.19,\"xg\":0.08,\"name\":\"Rice\",\"team\":\"Arsenal\",\"saves\":0.0,\"weight\":16,\"player_type\":\"Midfielder\",\"clean_sheets\":0.5},{\"xa\":0.07,\"xg\":0.55,\"name\":\"Enzo\",\"team\":\"Chelsea\",\"saves\":0.0,\"weight\":14,\"player_type\":\"Midfielder\",\"clean_sheets\":0.29}]}"
    FPLGameweek.new(gameweek: 7, bets: JSON.parse(bets), deadline: "2025-10-03 17:30:00.000000000 +0000", results: [ 4, 5 ], stake: 2.79).save!
  end
end
